---
title: 'HÆ°á»›ng dáº«n deploy web project lÃªn GitHub báº±ng GitHub Actions'
description: 'CI/CD made easy.'
date: 2025-10-17
tags: ['v1.0.0']
image: './banner.jpg'
authors: ['log1cs']
---

Hola má»i ngÆ°á»i, hÃ´m nay mÃ¬nh sáº½ nÃ³i vá» GitHub Workflow vÃ  cÃ¡ch Ä‘á»ƒ má»i ngÆ°á»i cÃ³ thá»ƒ deploy project lÃªn. Thá»±c ra thÃ¬ cÅ©ng khÃ¡ Ä‘Æ¡n giáº£n thÃ´i, vÃ  GitHub Workflow cÃ³ thá»ƒ sá»­ dá»¥ng cho nhiá»u má»¥c Ä‘Ã­ch khÃ¡c chá»© khÃ´ng chá»‰ Ä‘Æ¡n thuáº§n lÃ  nhÃ©t má»—i cÃ¡i source web rá»“i cho nÃ³ host táº¡m Ä‘Ã¢u ^^ cÃ²n nhiá»u trÃ² vui hÆ¡n mÃ  báº¡n cÃ³ thá»ƒ lÃ m vá»›i nÃ³.

## YÃªu cáº§u cáº§n thiáº¿t
- Biáº¿t sá»­ dá»¥ng Git (cÅ©ng nhÆ° lÃ  GitHub).
- Scripting cÆ¡ báº£n.
- Báº¡n Ä‘Ã£ setup Ä‘Æ°á»£c website cá»§a mÃ¬nh cháº¡y Ä‘Æ°á»£c á»Ÿ local.

## GitHub Workflow lÃ  gÃ¬? Táº¡i sao láº¡i cáº§n thiáº¿t?
NÃ³i Ä‘Æ¡n giáº£n thÃ¬ nÃ³ lÃ  1 pháº§n cá»§a [GitHub Action](https://github.com/features/actions). Äáº¡i loáº¡i lÃ  má»—i 1 láº§n báº¡n push 1 thay Ä‘á»•i (commit) lÃªn repo cá»§a báº¡n, thÃ¬ há»‡ thá»‘ng Workflow (hoáº·c [CI/CD](https://200lab.io/blog/ci-cd-la-gi)) cá»§a  GitHub sáº½ tá»± Ä‘á»™ng rebuild láº¡i má»i thá»© mÃ  báº¡n khÃ´ng cáº§n pháº£i nhÃºng tay vÃ o.

NÃ³i suÃ´ng thÃ¬ khÃ³ hiá»ƒu, nÃªn mÃ¬nh sáº½ vÃ­ dá»¥ Ä‘Æ¡n giáº£n cho thá»±c táº¿ hÆ¡n nhÃ©.

Cháº³ng háº¡n báº¡n cÃ³ 1 project web Ä‘Æ¡n giáº£n. Má»—i 1 láº§n báº¡n Ä‘áº©y nhá»¯ng thay Ä‘á»•i cá»§a báº¡n vÃ o source code, báº¡n sáº½ pháº£i lÃ m cÃ¡c **chuá»—i cÃ´ng viá»‡c** nhÆ° sau Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i cá»§a báº¡n vÃ o project Ä‘Ã³:

- Dá»«ng A Ä‘ang cháº¡y (**1 phÃºt**)
- Táº¡o file token B, sau Ä‘Ã³ truyá»n file B xuá»‘ng cho service C (**1 phÃºt**)
- C sau Ä‘Ã³ nháº­n file mÃ  B truyá»n xuá»‘ng, xong sáº½ check qua vÃ  build thá»­ preview cá»§a website (tuá»³ thuá»™c vÃ o Ä‘á»™ lá»›n cá»§a source code, mÃ¡y yáº¿u, nÆ°á»›c mÆ°a rÆ¡i vÃ o mÃ¡y, trá»i nÃ³ng quÃ¡ thÃ¬ mÃ¡y lag, quÃªn dáº¥u `;`,... **cho háº³n luÃ´n 5 phÃºt**)
- Build xong thÃ¬ báº­t A lÃªn Ä‘á»ƒ deploy (**1 phÃºt**)

*á» trÃªn chá»‰ lÃ  vÃ­ dá»¥ thÃ´i nhÃ© ^^ ngoÃ i Ä‘á»i khÃ´ng tra táº¥n tháº¿ nÃ y Ä‘Ã¢u, cháº¯c lÃ  kinh khá»§ng hÆ¡n.*

TÆ°á»Ÿng tÆ°á»£ng ráº±ng má»—i láº§n thá»§ cÃ´ng máº¥t ngáº§n Ä‘Ã³ thá»i gian Ä‘á»ƒ cháº¡y má»i thá»© báº±ng tay thÃ¬ cÃ³ khi Ä‘á»‘i thá»§ cá»§a báº¡n Ä‘Ã£ cho báº¡n hÃ­t khÃ³i rá»“i. Pháº£i chÄƒng báº¡n cÃ³ mong ráº±ng, Æ°á»›c gÃ¬ trÃªn **TrÃ¡i Äáº¥t** nÃ y cÃ³ cÃ¡i gÃ¬ Ä‘Ã³ cÃ³ thá»ƒ tá»± Ä‘á»™ng hoÃ¡ cho mÃ¬nh háº¿t cÃ¡i chuá»—i cÃ´ng viá»‡c nhÆ° tra táº¥n Ä‘Ã³, Ä‘á»ƒ mÃ¬nh cÃ²n báº­n ngá»§ 8 tiáº¿ng, Äƒn ba bá»¯a vÃ  xÃ¡ch ba lÃ´ thi giáº£i Olympic F1 cháº¡y ra khá»i chá»— lÃ m nhanh nháº¥t chá»© ^^

ÄÆ°Æ¡ng nhiÃªn lÃ  cÃ³. **CI/CD** chá»© cÃ²n gÃ¬ ná»¯a.

MÃ¬nh Ä‘Ã£ Ä‘á» cáº­p vá» **CI/CD** á»Ÿ bÃªn trÃªn, vÃ  mÃ¬nh sáº½ khÃ´ng Ä‘i quÃ¡ sÃ¢u vÃ o khÃ¡i niá»‡m nÃ y. **CI/CD** sáº½ giÃºp báº¡n tá»± Ä‘á»™ng hoÃ¡ má»i thá»©, tá»« lÃºc báº¡n Ä‘áº©y source code lÃªn, thÃ¬ **CI/CD** sáº½ tá»± Ä‘á»™ng cháº¡y háº¿t táº¥t cÃ¡c cÃ¡c pipeline mÃ  báº¡n Ä‘Ã£ setup (*Ä‘Æ°Æ¡ng nhiÃªn lÃ  báº¡n pháº£i setup trÆ°á»›c, khÃ´ng nÃ³ biáº¿t gÃ¬ mÃ  cháº¡y*).

NghÄ©a lÃ , nhÆ° cÃ¡i chuá»—i cÃ´ng viá»‡c Ä‘au khá»• vÃ  vÃ´ cÃ¹ng tá»‘n thá»i gian phÃ­a trÃªn, giá» sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng hoÃ¡ hoÃ n toÃ n. Cá»© khi nÃ o báº¡n Ä‘áº©y thay Ä‘á»•i lÃªn lÃ  CI sáº½ tá»± Ä‘á»™ng cháº¡y má»i thá»© cho báº¡n, Ä‘á»ƒ thá»i gian cÃ²n lÃ m viá»‡c khÃ¡c chá»© ğŸ˜ƒ

## CÃ¡ch setup Workflow cho website
HÆ°á»›ng dáº«n nÃ y sáº½ tá»‘i giáº£n má»i thá»© Ä‘á»ƒ cho má»i ngÆ°á»i cÃ³ thá»ƒ deploy Ä‘Æ°á»£c website 1 cÃ¡ch dá»… dÃ ng nháº¥t.

Äáº§u tiÃªn, táº¡i repo hiá»‡n táº¡i cá»§a báº¡n, chá»n vÃ o pháº§n Settings Ä‘Ã£ Ä‘Æ°á»£c tÃ´ Ä‘á» á»Ÿ bÃªn dÆ°á»›i.

![image](https://hackmd.io/_uploads/BkyTliA6gl.png)

Tiáº¿p theo, chá»n vÃ o Pages.

![image](https://hackmd.io/_uploads/B1BxWsCTee.png)

Giá» thÃ¬ báº¡n Ä‘ang á»Ÿ trong má»¥c Pages. Má»¥c nÃ y sáº½ giÃºp báº¡n cÃ³ thá»ƒ deploy Ä‘Æ°á»£c website sá»­ dá»¥ng chÃ­nh infra cá»§a GitHub Ä‘á»ƒ host mÃ  khÃ´ng pháº£i tá»‘n tiá»n mua VPS Ä‘á»ƒ host hay lÃ m máº¥y thá»© khÃ¡c láº±ng nháº±ng chá»‰ Ä‘á»ƒ deploy má»—i cÃ¡i website.

Link dáº«n Ä‘áº¿n website cá»§a báº¡n sáº½ cÃ³ dáº¡ng nhÆ° sau:
```
https://<your_username>.github.io/<reponame>
```

Trong Ä‘Ã³:
- `your_username` lÃ  username GitHub cá»§a báº¡n.
- `reponame` lÃ  tÃªn repository cá»§a báº¡n.

![image](https://hackmd.io/_uploads/HJMjbiCpee.png)

Tiáº¿p theo Ä‘Ã³, chá»n "Build and deployment" vÃ  chá»n GitHub Actions.

![image](https://hackmd.io/_uploads/ryY1fsRpgl.png)

Báº¡n sáº½ cÃ³ 2 lá»±a chá»n á»Ÿ Ä‘Ã¢y. Báº¡n cÃ³ thá»ƒ chá»n Jekyll hoáº·c Static HTML Ä‘á»u Ä‘Æ°á»£c. Static HTML cÃ³ thá»ƒ sáº½ Ä‘Æ¡n giáº£n vá»›i nhá»¯ng ngÆ°á»i khÃ´ng biáº¿t nhiá»u vá» láº­p trÃ¬nh website hoáº·c chá»‰ cáº§n lÃ m má»™t trang web Ä‘Æ¡n giáº£n. 

Jekyll sáº½ lÃ  há»£p lÃ½ náº¿u báº¡n muá»‘n lÃ m static blog website. ÄÆ¡n giáº£n, dá»… dÃ¹ng, ship nhanh. Äi clone cÃ¡i template cá»§a ngÆ°á»i khÃ¡c vá» xong báº¡n cÃ³ thá»ƒ thÃªm tuá»³ chá»‰nh cá»§a mÃ¬nh vÃ o theo Ã½ muá»‘n, khÃ´ng áº¥y thÃ¬ clone xong vá» viáº¿t blog báº±ng Markdown luÃ´n cÅ©ng Ä‘Æ°á»£c ^^

NÃ³i chung lÃ  tuá»³ nhu cáº§u sá»­ dá»¥ng. á» Ä‘Ã¢y mÃ¬nh chá»‰ giá»›i thiá»‡u ngáº¯n gá»n qua vá» Jekyll vÃ  HTML Ä‘á»ƒ cho báº¡n lá»±a chá»n. ÄÆ°Æ¡ng nhiÃªn báº¡n cÃ³ thá»ƒ váº­n dá»¥ng GitHub Workflow Ä‘á»ƒ deploy nhiá»u thá»ƒ loáº¡i khÃ¡c nhÆ° **Flask, Django, React, NextJS, Astro,...**

á» Ä‘Ã¢y mÃ¬nh sáº½ sá»­ dá»¥ng HTML thÃ´i, táº¡i project cá»§a mÃ¬nh cÅ©ng ráº¥t Ä‘Æ¡n giáº£n. ÄÆ¡n giáº£n lÃ  vÃ¬ cÃ´ng viá»‡c chá»‰ cÃ³ upload cÃ¡i file lÃªn, truyá»n file vÃ o trong Ä‘oáº¡n code Ä‘á»ƒ dá»± Ä‘oÃ¡n malware, xá»­ lÃ½ xong rá»“i in káº¿t quáº£ ra mÃ n hÃ¬nh lÃ  xong.

![image](https://hackmd.io/_uploads/B11gmj0Txg.png)

NÃ³i chung lÃ  báº¡n muá»‘n dÃ¹ng gÃ¬ thÃ¬ chá»n **Configure** cÃ¡i Ä‘Ã³.

Chá»n xong thÃ¬ báº¡n sáº½ Ä‘Æ°á»£c redirect qua cÃ¡i trÃ¬nh edit text cá»§a GitHub. ÄÃ¢y lÃ  file workflow Ä‘á»ƒ báº¡n cÃ³ thá»ƒ tá»± Ä‘á»™ng hoÃ¡ má»i thá»© sau nÃ y.

![image](https://hackmd.io/_uploads/BkFRLjRale.png)

MÃ¬nh sáº½ giáº£i thÃ­ch qua má»™t vÃ i properties quan trá»ng á»Ÿ Ä‘Ã¢y:

```yml
# Simple workflow for deploying static content to GitHub Pages
name: Deploy static content to Pages
```

CÃ¡i nÃ y lÃ  tÃªn cá»§a Action. Báº¡n cÃ³ thá»ƒ Ä‘áº·t tÃªn lÃ  gÃ¬ cÅ©ng Ä‘Æ°á»£c. TÃªn nÃ y sáº½ hiá»ƒn thá»‹ khi báº¡n báº¥m trong Action.

Cá»¥ thá»ƒ lÃ  nÃ³ sáº½ nhÃ¬n nhÆ° tháº¿ nÃ y:

![image](https://hackmd.io/_uploads/HkbTb4y0ee.png)

Tiáº¿p theo, vá» cÃ¡c event trong repo:

```yaml
on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["local"]
```

Vá»›i nhá»¯ng property xáº¿p chá»“ng nhÆ° nÃ y, báº¡n cÃ³ thá»ƒ hiá»ƒu 3 dÃ²ng trÃªn khi gá»™p láº¡i thÃ nh 1 dÃ²ng sáº½ trÃ´ng nhÆ° tháº¿ nÃ y (vÃ  nÃ³ váº«n há»£p lá»‡):

```yaml
on.push.branches: ["local"]
```

Vá»›i property `on` thÃ¬ property nÃ y sáº½ trigger Actions khi mÃ  1 event nÃ o Ä‘Ã³ diá»…n ra. Cháº³ng háº¡n vá»›i vÃ­ dá»¥ nÃ y, `on.push` sáº½ trigger workflow chá»‰ khi báº¡n Ä‘áº©y cÃ¡c commit má»›i lÃªn (***push***).

Báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu thÃªm vá» cÃ¡c event khÃ¡c cÃ³ trong thuá»™c tÃ­nh `on` táº¡i Ä‘Ã¢y: [Events that trigger workflows](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows).

Property `branches` sáº½ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ khai bÃ¡o branch sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng khi cháº¡y GitHub Actions. Cháº³ng háº¡n khi báº¡n muá»‘n deploy code báº±ng branch nÃ o thÃ¬ thay branch á»Ÿ trong Ä‘Ã³ lÃ  Ä‘Æ°á»£c.

Náº¿u báº¡n Ä‘á»ƒ `branches: ["**"]` thÃ¬ pipeline sáº½ cháº¡y á»Ÿ táº¥t cáº£ cÃ¡c branches.

Tiáº¿p theo, vá» cÃ¡c quyá»n trong repo:

```yaml
permissions:
  contents: read    # Cho phÃ©p Ä‘á»c code trong repo
  pages: write      # Cho phÃ©p ghi (deploy) lÃªn GitHub Pages
  id-token: write   # Cáº¥p quyá»n xÃ¡c thá»±c (an toÃ n, khÃ´ng cáº§n token thá»§ cÃ´ng)
```

Náº¿u báº¡n khÃ´ng cáº¥p cÃ¡c quyá»n nÃ y, GitHub Pages action sáº½ bá»‹ lá»—i 403 Permission denied.

```yaml!
# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false
```

ÄÆ¡n giáº£n lÃ  báº¡n hiá»ƒu property nÃ y sáº½ giÃºp cho cÃ¡c workflow cháº¡y theo thá»© tá»±, vÃ  khÃ´ng cháº¡y Ä‘Ã¨ lÃªn nhau, production safety thÃ´i ^^

**VÃ­ dá»¥ Ä‘Æ¡n giáº£n:**
- Báº¡n cÃ³ 2 commit Ä‘ang chá» deploy.
- GitHub Pages giá»‘ng nhÆ° thá»§ quá»¹ â€” chá»‰ phÃ¡t tiá»n cho má»™t ngÆ°á»i má»™t láº§n.
- Ai Ä‘áº¿n sau thÃ¬ pháº£i xáº¿p hÃ ng, chá» ngÆ°á»i trÆ°á»›c deploy xong rá»“i má»›i tá»›i lÆ°á»£t.

NhÆ° váº­y thÃ¬ website cá»§a báº¡n sáº½ khÃ´ng bá»‹ â€œ2 Ã´ng cÃ¹ng sá»­a 1 file index.htmlâ€ dáº«n Ä‘áº¿n viá»‡c website bá»‹ lá»—i/cháº¡y khÃ´ng á»•n Ä‘á»‹nh.

Ã€, tiá»‡n nháº¯c Ä‘áº¿n *xáº¿p hÃ ng* á»Ÿ Ä‘Ã¢y, báº¡n cÃ³ nghÄ© ráº±ng - náº¿u nhÆ° cÃ¡i action sau cháº¡y mÃ  lá»—i, thÃ¬ cÃ¡i commit Ä‘Ã³ cÃ³ Ä‘Æ°á»£c deploy lÃªn khÃ´ng?

CÃ¢u tráº£ lá»i lÃ  **khÃ´ng**. Khi má»™t job trong workflow fail (vÃ­ dá»¥: build lá»—i, thiáº¿u file), GitHub Actions sáº½ dá»«ng háº³n pipeline, khÃ´ng deploy lÃªn Pages.

ÄÃ³ lÃ  nhá»¯ng thuá»™c tÃ­nh cÆ¡ báº£n liÃªn quan Ä‘áº¿n setup GitHub Actions. Giá» chÃºng ta Ä‘áº¿n pháº§n setup mÃ´i trÆ°á»ng, vÃ  hÆ°á»›ng dáº«n táº¡o thÃªm actions khÃ¡c ngoÃ i deploy. MÃ¬nh sáº½ cá»‘ gáº¯ng giáº£i thÃ­ch dá»… hiá»ƒu vá» cÃ¡c property cÃ²n láº¡i á»Ÿ Ä‘Ã¢y ^^

```yaml
jobs:
  # Single deploy job since we're just deploying
  deploy:
    environment:
      # name: khai bÃ¡o tÃªn mÃ´i trÆ°á»ng, á»Ÿ Ä‘Ã¢y chÃºng ta dÃ¹ng GitHub Pages.
      name: github-pages
      # url: NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn.
      url: ${{ steps.deployment.outputs.page_url }} # https://<your_username>.github.io/<reponame>
    # Chá»n image Ä‘á»ƒ deploy server. á» Ä‘Ã¢y cháº¡y trÃªn image Ubuntu má»›i nháº¥t cá»§a GitHub.
    runs-on: ubuntu-latest
    # Linh há»“n cá»§a má»™t job. Má»i lá»‡nh sáº½ Ä‘Æ°á»£c náº±m á»Ÿ Ä‘Ã¢y.
    steps:
      # name: TÃªn cá»§a pipeline
      # uses: á» Ä‘Ã¢y chÃºng ta sá»­ dá»¥ng cÃ¡c actions cÃ³ sáºµn cá»§a GitHub.
      # Báº¡n cÃ³ thá»ƒ tÃ¬m cÃ¡c actions vÃ  giá»›i thiá»‡u qua vá» cÃ¡c actions Ä‘Ã³ á»Ÿ Ä‘Ã¢y: https://github.com/actions
      ## Checkout - Clone repo hiá»‡n táº¡i vá» mÃ¡y áº£o cá»§a GitHub.
      - name: Checkout
        uses: actions/checkout@v4
      ## Setup Pages - Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng cho website
      - name: Setup Pages
        uses: actions/configure-pages@v5
      ## Upload artifact - Pack code thÃ nh artifact Ä‘á»ƒ deploy
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # Upload entire repository
          path: '.'
      ## Deploy to GitHub Pages - Deploy code lÃªn Pages
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

Thá»±c ra thÃ¬ pháº§n nÃ y báº¡n cÃ³ thá»ƒ Ä‘á»ƒ nguyÃªn cÅ©ng Ä‘Æ°á»£c, cÅ©ng khÃ´ng quan trá»ng láº¯m, hiá»ƒu lÃ  Ä‘Æ°á»£c. NhÆ°ng mÃ¬nh váº«n muá»‘n giáº£i thÃ­ch rÃµ pháº§n nÃ y ra á»Ÿ Ä‘Ã¢y, lá»¡ Ä‘Ã¢u nÃ³ láº¡i quan trá»ng vá»›i báº¡n sau nÃ y ^^

Náº¿u báº¡n Ä‘Ã£ hiá»ƒu (1/100 cÅ©ng Ä‘Æ°á»£c) thÃ¬ cÃ³ thá»ƒ nháº¥n **Commit changes** rá»“i chÃºng ta sáº½ tiáº¿p tá»¥c vá»›i váº¥n Ä‘á» khÃ¡c.

Giá» báº¡n sáº½ tháº¥y gáº§n cÃ¡i commit message cá»§a mÃ¬nh cÃ³ má»™t cháº¥m vÃ ng (hoáº·c dáº¥u tick, hoáº·c cross).

Sáº½ cÃ³ 3 tráº¡ng thÃ¡i:
- Dáº¥u tick mÃ u xanh: deploy thÃ nh cÃ´ng
- Cháº¥m vÃ ng: workflow Ä‘ang cháº¡y
- CÃ²n X mÃ u Ä‘á»: LÃ  má»™t trong nhá»¯ng job cá»§a báº¡n Ä‘Ã£ fail trong 1 cÃ¡i pipeline nÃ o Ä‘Ã³.

![image](https://hackmd.io/_uploads/ByOcUV1Ceg.png)

## Tá»± setup má»™t pipeline má»›i
VÃ­ dá»¥ Ä‘i, náº¿u code cá»§a báº¡n chá»‰ cÃ³ hiá»ƒn thá»‹ má»—i chá»¯ `Hello world` thÃ¬ cÅ©ng khÃ´ng cáº§n thiáº¿t pháº£i cáº§n setup quÃ¡ nhiá»u. NhÆ°ng cÃ³ nhá»¯ng website, khi báº¡n upload file lÃªn Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u, vÃ­ dá»¥ nhÆ° [Online Binwalk Utility](https://www.unroll.ing/), khi mÃ  báº¡n muá»‘n upload file lÃªn Ä‘á»ƒ Ä‘á»c cÃ¡c content bá»‹ áº©n trong file, thÃ¬ há» sáº½ xá»­ lÃ½ file cá»§a báº¡n kiá»ƒu gÃ¬?

Vá»›i vÃ­ dá»¥ trÃªn, náº¿u khÃ´ng cÃ i cÃ¡c thÆ° viá»‡n há»— trá»£ cho viá»‡c xá»­ lÃ½ file, thÃ¬ nÃ³ váº«n cháº¡y Ä‘Æ°á»£c bÃ¬nh thÆ°á»ng thÃ´i. Cá»¥ thá»ƒ lÃ  cháº¡y báº±ng niá»m tin vÃ  hi vá»ng ^^

ÄÃ¹a váº­y thÃ´i, giá» mÃ¬nh sáº½ nÃ³i vá» viá»‡c setup má»™t pipeline riÃªng biá»‡t Ä‘á»ƒ cÃ i Ä‘áº·t, setup mÃ´i trÆ°á»ng cho website cá»§a báº¡n.

Viá»‡c cÃ¡c báº¡n setup website á»Ÿ local nhÆ° tháº¿ nÃ o thÃ¬ trÃªn Pipeline cÃ¡c báº¡n cÅ©ng pháº£i setup cho nÃ³ Ä‘Ãºng nhÆ° váº­y. CÃ¡i image cá»§a GitHub nÃ³ cÅ©ng nhÆ° cÃ¡i mÃ¡y tÃ­nh cá»§a cÃ¡c báº¡n ban Ä‘áº§u váº­y, náº¿u cÃ¡c báº¡n khÃ´ng cÃ i dependencies/redist Ä‘á»ƒ cháº¡y website, thÃ¬ nÃ³ cÃ³ cháº¡y Ä‘Æ°á»£c Ä‘Ã¢u? Pháº£i cÃ i rá»“i thÃ¬ má»›i cháº¡y Ä‘Æ°á»£c chá»© Ä‘Ãºng khÃ´ng, khÃ´ng cÃ³ `npm`, khÃ´ng cÃ³ Jekyll thÃ¬ lÃ m sao mÃ  preview Ä‘Æ°á»£c website trÃªn local, báº¡n tÃ­nh preview báº±ng trÃ­ tÆ°á»Ÿng tÆ°á»£ng Ã  ğŸ˜ƒ

MÃ¬nh sáº½ láº¥y repo [nÃ y](https://github.com/log1cs/Frostbite) cá»§a mÃ¬nh Ä‘á»ƒ lÃ m vÃ­ dá»¥ (cá»§a mÃ¬nh cÃ i thÆ° viá»‡n Python lÃ  chÃ­nh). Giá» mÃ¬nh muá»‘n cÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n sau vÃ¬ project cá»§a mÃ¬nh yÃªu cáº§u cÃ¡c thÆ° viá»‡n sau pháº£i Ä‘Æ°á»£c cÃ i Ä‘áº·t:

```python
scikit-learn
pefile
pandas
numpy
pickle
matplotlib
```

ThÆ°á»ng thÃ¬ cÃ¡c báº¡n hay dÃ¹ng `pip install` + `<thÆ° viá»‡n>` Ä‘Ãºng khÃ´ng. Äiá»u nÃ y sáº½ hÆ¡i báº¥t tiá»‡n náº¿u cÃ¡c báº¡n tÃ­nh lÃ m má»™t project [OSS](https://en.wikipedia.org/wiki/Open-source_software) nÃ o Ä‘Ã³. Cháº³ng háº¡n á»Ÿ Ä‘Ã¢y mÃ¬nh cÃ¡i cÃ³ 5-6 cÃ¡i thÆ° viá»‡n, nhÆ°ng cháº³ng háº¡n project sá»­ dá»¥ng 100 cÃ¡i thÆ° viá»‡n, thÃ¬ báº¡n tÃ­nh cho ngÆ°á»i ta cÃ i báº±ng tay 100 cÃ¡i thÆ° viá»‡n Ä‘Ã³ Ã ?

PowerShell/CMD hoáº·c Terminal cá»§a Linux/UNIX cÅ©ng chá»‰ cÃ³ giá»›i háº¡n kÃ­ tá»± Ä‘Æ°á»£c nháº­p trong má»™t command thÃ´i, chá»© khÃ´ng pháº£i nháº­p 9999 kÃ­ tá»± vÃ o thÃ¬ nÃ³ cÅ©ng load Ä‘Æ°á»£c háº¿t cáº£ 9999 kÃ­ tá»± Ä‘Ã¢u ^^

Báº» thÃ nh cÃ¡c chunk nhá» Ä‘á»ƒ cháº¡y? KhÃ´ng, trÃ² Ä‘Ã³ hÆ¡i thiáº¿u chuyÃªn nghiá»‡p.

Váº­y nÃªn, mÃ¬nh sáº½ bÃ y cho cÃ¡c báº¡n cÃ¡ch nÃ y mÃ¬nh tháº¥y khÃ¡ tiá»‡n vÃ  hay cá»§a Python, vÃ  trÃ² nÃ y cÃ³ thá»ƒ cÃ³ (hoáº·c khÃ´ng) Ã¡p dá»¥ng Ä‘Æ°á»£c cho project cá»§a báº¡n (tuá»³ ngÃ´n ngá»¯ mÃ  báº¡n sá»­ dá»¥ng):

### Vá»›i Python

Táº¡o 1 file tÃªn lÃ  `requirements.txt`, hoáº·c tÃªn gÃ¬ cÅ©ng Ä‘Æ°á»£c. Trong file Ä‘Ã³ báº¡n ghi háº¿t tá»«ng thÆ° viá»‡n báº¡n dÃ¹ng trong project cá»§a mÃ¬nh:

```
scikit-learn
pefile
pandas
numpy
pickle
matplotlib
```

Náº¿u project cá»§a báº¡n yÃªu cáº§u thÆ° viá»‡n nÃ o Ä‘Ã³ pháº£i á»Ÿ má»™t phiÃªn báº£n nháº¥t Ä‘á»‹nh, báº¡n cÃ³ thá»ƒ gáº¯n thÃªm dáº¥u `==<phiÃªn báº£n>` cá»§a thÆ° viá»‡n Ä‘Ã³, thÃ¬ lÃºc cÃ i thÆ° viá»‡n thÃ¬ `pip` sáº½ chá»‰ táº£i thÆ° viá»‡n vá»›i phiÃªn báº£n mÃ  báº¡n Ä‘Ã£ hardcode á»Ÿ trong requirements thÃ´i.

VÃ­ dá»¥, mÃ¬nh muá»‘n cÃ i thÆ° viá»‡n `scikit-learn` nhÆ°ng mÃ¬nh muá»‘n nÃ³ buá»™c pháº£i á»Ÿ phiÃªn báº£n `1.2.2` vÃ¬ mÃ¬nh train model báº±ng scikit-learn 1.2.2, nÃªn mÃ¬nh buá»™c pháº£i dÃ¹ng scikit-learn 1.2.2 cho project, thÃ¬ cÃ³ thá»ƒ Ä‘Æ°á»£c xá»­ lÃ½ nhÆ° sau:

```
scikit-learn==1.2.2 # Hardcode phiÃªn báº£n thÆ° viá»‡n á»Ÿ 1.2.2, phiÃªn báº£n nÃ y pháº£i tá»“n táº¡i á»Ÿ pip database, náº¿u khÃ´ng sáº½ khÃ´ng táº£i vá» Ä‘Æ°á»£c.
pefile
pandas
numpy
pickle
matplotlib
```

VÃ  sau nÃ y khi báº¡n hoáº·c ngÆ°á»i khÃ¡c cáº§n cÃ i thÆ° viá»‡n, thÃ¬ báº¡n chá»‰ cáº§n cháº¡y lá»‡nh dÆ°á»›i vÃ  pip sáº½ tá»± Ä‘á»™ng cÃ i háº¿t thÆ° viá»‡n cho báº¡n:

```bash
pip install -r requirements.txt
```

TrÃ´ng Ä‘Æ¡n giáº£n hÆ¡n nhiá»u Ä‘Ãºng khÃ´ng ^^

OK, vÃ  giá» mÃ¬nh muá»‘n setup nÃ³ trÃªn pipeline Ä‘á»ƒ cÃ i Ä‘áº·t thÆ° viá»‡n trÃªn cÃ¡i pages cá»§a mÃ¬nh ná»¯a, thÃ¬ xá»­ lÃ½ nhÆ° tháº¿ nÃ o?

Táº¡i repo cá»§a báº¡n, vÃ o thÆ° má»¥c `.github/workflows` vÃ  táº¡o 1 file YML (nhá»› Ä‘á»ƒ khÃ´ng dáº¥u) Ä‘á»ƒ setup dependencies:

VÃ­ dá»¥:

```yaml
# TÃªn cá»§a pipeline
name: Install Python dependencies

# Job sáº½ Ä‘Æ°á»£c cháº¡y khi commit má»›i Ä‘Æ°á»£c Ä‘áº©y lÃªn,
# hoáº·c PR (pull request) nÃ o Ä‘Ã³ Ä‘Ã£ Ä‘Æ°á»£c merge.
on:
  push:
    branches: ["**"]
  pull_request:
    branches: ["**"]

# Setup pipeline
jobs:
  install-requirements:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      # CÃ i Ä‘áº·t Python, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng luÃ´n Actions cÃ³ sáºµn.
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11' # Hardcode python version á»Ÿ Ä‘Ã¢y, náº¿u báº¡n muá»‘n. KhÃ´ng báº¡n cÃ³ thá»ƒ Ä‘á»ƒ má»›i nháº¥t luÃ´n cÅ©ng Ä‘Æ°á»£c.

      # CÃ i Ä‘áº·t thÆ° viá»‡n
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip 
          pip install -r requirements.txt
```

Vá»›i property `run`, báº¡n cÃ³ thá»ƒ chÃ¨n hoáº·c lá»“ng nhiá»u command vÃ o trong Ä‘Ã³. Báº¡n cá»© tÆ°á»Ÿng tÆ°á»£ng nhÆ° mÃ¬nh Ä‘Ã£ hiá»ƒu háº¿t cÃ¡i repo nÃ y rá»“i, giá» váº¥n Ä‘á» cá»§a mÃ¬nh lÃ  cá»© nháº­p command rá»“i di chuyá»ƒn tá»« thÆ° má»¥c nÃ y qua thÆ° má»¥c kia Ä‘á»ƒ setup thÃ´i :D

Sau Ä‘Ã³ thÃ¬ viá»‡c cá»§a báº¡n sáº½ lÃ  lÆ°u file láº¡i vÃ  Ä‘áº©y lÃªn repo cá»§a báº¡n lÃ  xong. Giá» báº¡n sáº½ tháº¥y thÃªm cÃ¡i pipeline má»›i vá»«a Ä‘Æ°á»£c táº¡o:

![image](https://hackmd.io/_uploads/HkUDZBkCgx.png)

Náº¿u báº¡n muá»‘n lÃ m nhiá»u trÃ² hÆ¡n vá»›i GitHub Actions, báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i Ä‘Ã¢y: [sdras/awesome-actions](https://github.com/sdras/awesome-actions).

### VÃ i vÃ­ dá»¥ vá» GitHub Workflow khÃ¡c (khÃ´ng chá»‰ gÃ³i gá»n láº¡i trong website)
- [Build Linux kernel báº±ng GitHub Actions](https://github.com/andrewmcwatters/linux-workflow/blob/main/.github/workflows/makefile.yml)
- [Build Android apps báº±ng GitHub Actions (SebaUbuntu/Athena)](https://github.com/SebaUbuntu/Athena/blob/master/.github/workflows/build.yml) - cÃ¡i nÃ y báº¡n cÃ³ thá»ƒ xem Ä‘Æ°á»£c pipeline cá»§a há» luÃ´n

VÃ  Ä‘Ã³ lÃ  hÆ°á»›ng dáº«n cá»§a mÃ¬nh Ä‘á»ƒ setup GitHub Actions Ä‘á»ƒ deploy website qua GitHub, náº¿u báº¡n cÃ³ khÃ³ hiá»ƒu á»Ÿ Ä‘Ã¢u thÃ¬ cÃ³ thá»ƒ há»i táº¡i comment ^^

Have fun building your own!
